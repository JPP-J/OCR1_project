{% extends "base.html" %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <h2>Upload an Image</h2>

    <!-- Form Submission -->
    <form method="POST">
        {{ form.hidden_tag() }}
    
        <div style="margin-bottom: 20px;">
            <label for="image_url">Link of Image:</label> 
            {{ form.image_url(class="input-field") }}
        </div>
    
        <!-- Add a wrapper with padding/margin -->
        <div style="margin-top: 5px; text-align: center;">
            {{ form.submit(class="submit-btn") }}
        </div>
    </form>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <p class="{{ category }}">{{ message }}</p>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- Display Image -->
    {% if image_url %}
        <h3>Submitted Image:</h3>
        <img src="{{ image_url }}" alt="Uploaded Image">
    {% endif %}

    <!-- Display Extracted Text -->
    {% if result_text %}
        <h3>Extracted Text:</h3>
        <p class="result-text">{{ result_text }}</p>
    {% endif %}
{% endblock %}